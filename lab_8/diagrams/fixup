@startuml

' Define colors
skinparam RedFont {
    fontcolor red
}

' Define nodes
start
while (node.parent and node.parent.color == "Red")
if (node.parent == node.parent.parent.left) then (true)
  :uncle = node.parent.parent.right;
  if (uncle.color == "Red") then (true)
    :<font color=red>O(1)</font>;
    :node.parent.color = "Black";
    :uncle.color = "Black";
    :node.parent.parent.color = "Red";
    :node = node.parent.parent;
  else (false)
    if (node == node.parent.right) then (true)
      :<font color=red>O(1)</font>;
      :node = node.parent;
      :self.left_rotate(node);
    endif
    :<font color=red>O(1)</font>;
    :node.parent.color = "Black";
    :node.parent.parent.color = "Red";
    :self.right_rotate(node.parent.parent);
  endif
else (false)
  :uncle = node.parent.parent.left;
  if (uncle.color == "Red") then (true)
    :<font color=red>O(1)</font>;
    :node.parent.color = "Black";
    :uncle.color = "Black";
    :node.parent.parent.color = "Red";
    :node = node.parent.parent;
  else (false)
    if (node == node.parent.left) then (true)
      :<font color=red>O(1)</font>;
      :node = node.parent;
      :self.right_rotate(node);
    endif
    :<font color=red>O(1)</font>;
    :node.parent.color = "Black";
    :node.parent.parent.color = "Red";
    :self.left_rotate(node.parent.parent);
  endif
endif
endwhile
:self.root.color = "Black";
stop

@enduml
